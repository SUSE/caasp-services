## Default values for Portus Helm Chart.
## This is a YAML-formatted file.
## Declare variables to be passed into your templates.

## Default values for Portus
##
portus:
  name: "portus"
  image:
    repository: "opensuse/portus"
    tag: "head"
    pullPolicy: "IfNotPresent"
  replicas: 1
  port: 3000

  ## Configuration values for Portus.
  ##
  railsServeStaticFiles: true

  ## Database values
  ##
  productionHost:                    # name of database host, only used if connecting to separate mariadb deployment
  productionDatabase: "portus"       # name of database
  productionUsername: "root"         # database user
  productionPassword: "cGFzc3dvcmQ=" # database password

  ## Secret values for Portus.
  ##
  password: "cGFzc3dvcmQ="
  secretKeyBase:  "YjQ5NGEyNWZhYThkMjJlNDMwZTg0M2UyMjBlNDI0ZTEwYWM4NGQyY2UwZTY0MjMxZjViNjM2ZDIxMjUxZWI2ZDI2N2FkYjA0MmFkNTg4NGNiZmYwZjM4OTFiY2Y5MTFiZGY4YWJiM2NlNzE5ODQ5Y2NkYTlhNDg4OTI0OWU1YzI="

## Default values for Crono.
##
crono:
  name: "crono"
  image:
    repository: "opensuse/portus"
    tag: "head"
    pullPolicy: "IfNotPresent"
  replicas: 1

## Default values for Docker Registry.
##
registry:
  name: "registry"
  mountPath: "/storage"
  persistence:
    enabled: true
    accessMode: "ReadWriteOnce"
    capacity: "10Gi"
  image:
    repository: "library/registry"
    tag: "latest"
    pullPolicy: "IfNotPresent"
  replicas: 1
  port: "5000"
  debugPort: "5001"

## Default values for Nginx.
##
nginx:
  name: "nginx"
  image:
    repository: "library/nginx"
    tag: "alpine"
    pullPolicy: "IfNotPresent"

  ## Domain name for entry point
  ##
  fqdn: "portus-test.us.to"

  ## Service configuration.
  ##
  service:
    ## If using Ingress use type ClusterIP, else use NodePort
    ##
    type: "NodePort"
    port: "443"
    nodePort: "32123"

  ingress:
    enabled: false

    ## Anntations to be added to the web ingress
    ##
    annotations:
      kubernetes.io/ingress.class: "nginx"
      kubernetes.io/ingress.allow-http: "false"
      ingress.kubernetes.io/ssl-passthrough: "true"

    port: "32123"

    ## TLS configuration
    ## Secrets must be manually created in the namespace
    ##
    tls:
      secretName: "portus-tls"

  ## Domain name for entry point
  ##
  fqdn: "portus-test.us.to"

  ## Service configuration.
  ##
  service:
    ## If using Ingress use type ClusterIP, else use NodePort
    ##
    type: "NodePort"
    port: "443"
    nodePort: "32123"

  ingress:
    enabled: false

    ## Anntations to be added to the web ingress
    ##
    annotations:
      kubernetes.io/ingress.class: "nginx"
      kubernetes.io/ingress.allow-http: "false"
      ingress.kubernetes.io/ssl-passthrough: "true"

    port: "32123"

    ## TLS configuration
    ## Secrets must be manually created in the namespace
    ##
    tls:
      secretName: "portus-tls"

## Default values for Mariadb.
##
mariadb:
  ## Use Mariadb chart dependency
  ## Set to false if using your own Mariadb
  ##
  enabled: true

  persistence:
    enabled: false
    accessMode: "ReadWriteOnce"
    size: "8Gi"

  ## Configuration values for Mariadb.
  ## must match Portus database values.
  ##
  usePassword: true
  mariadbRootPassword: "password"
  mariadbDatabase: "portus"
